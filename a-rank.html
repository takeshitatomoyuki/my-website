<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>暗記ツール</title>
  <style>
    body {
      font-size: 20px;
      font-family: Arial, sans-serif;
      margin: 20px;

    }

    .question-container {
      margin-top: 20px;
      padding: 10px;
      border: 1px solid #ccc;
    }

    .controls {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 20px;
}

.controls label {
  white-space: nowrap;
}

.controls select {
  width: fit-content;
}


    select,
    button {
      width: auto;
      margin-right: 10px;
      padding: 5px;
    }

    .blanked {
      cursor: pointer;
      padding: 2px 4px;
      border-radius: 3px;
    }

    .input-container {
      margin-top: 10px;
      width: 90vw;
    }

    .correct {
      color: green;
    }

    .incorrect {
      color: red;
    }

    input {
      font-size: 20px;
      width: 90vw;
      height: 24px;
    }
  </style>
</head>

<body>
  <!--  
  <h1>法律条文暗記ツール</h1>
-->
  <div class="controls">
    <label for="major-select">大区分:</label>
    <select id="major-select"></select>
    
    <label for="minor-select">中区分:</label>
    <select id="minor-select"></select>

    <label for="sub-select">小区分:</label>
    <select id="sub-select"></select>
    <br>
    <button id="jump-btn">ジャンプ</button>
    <button id="next-btn">次へ</button>
    <button id="prev-btn">前へ</button>
    <button id="random-btn">ランダム</button>
    <button id="speak-btn">音読</button>
  </div>

  <div class="question-container">
    <p id="question-text"></p>
    <button id="toggle-blank-btn">空欄を表示</button>
  </div>

  <div id="input-area">
    <!-- 入力欄をここに追加 -->
  </div>

  <script>

    // 条文データ構造
    const sentences = [
     
      {
        id: 17,
        text: "固定資産税は固定資産に対し、当該固定資産所在の市町村において課する。したがって、原則として、固定資産の所在市町村が課税団体となる。",
        category: { major: "1-2課税団体", minor: "1.原則", sub: "1" }
      },
      {
        id: 18,
        text: "東京都の特別区の存する区域については、都が固定資産税を課する。",
        category: { major: "1-2課税団体", minor: "2.都の特別区", sub: "1" }
      },
      {
        id: 19,
        text: "公有水面埋立法の規定により竣功認可前に使用する埋立地若しくは干拓地（以下「埋立地等」という。）又は国が埋立て若しくは干拓により造成する竣功の通知前の埋立地等で工作物を設置し、その他土地を使用する場合と同様の状態で使用されているもの（工事に関して使用されているものを除く。）のうち、土地とみなされ固定資産税が課税される埋立地等については、当該埋立地等が隣接する土地の所在する市町村をもって、当該埋立地等が所在する市町村とみなす。したがって、埋立地等が隣接する土地の所在市町村が課税団体となる。",
        category: { major: "1-2課税団体", minor: "3.公有水面の埋立地等", sub: "1" }
      },
      {
        id: 20,
        text: "償却資産のうち船舶、車両その他これらに類する物件については、下記5.の適用がある場合を除き、その主たる定けい場又は定置場所在の市町村を当該固定資産所在の市町村とし、船舶についてその主たる定けい場が不明である場合には、定けい場所在の市町村で船籍港があるものを主たる定けい場所在の市町村とみなす。したがって、その主たる定けい場又は定置場所在の市町村が課税団体となる。",
        category: { major: "1-2課税団体", minor: "4.移動性償却資産又は可動性償却資産", sub: "1" }
      },
      {
        id: 21,
        text: "次に掲げる固定資産については、道府県知事又は総務大臣が評価を行った後、その固定資産が所在するものとされる市町村及びその価格等を決定し、当該市町村にその決定した価格等を配分することとされており、その価格等の配分を受けた市町村が課税団体となる。＊1_総務省令で定める船舶、車両その他の移動性償却資産又は可動性償却資産で二以上の市町村にわたって使用されるもののうち総務大臣が指定するもの。2_鉄道、軌道、発電、送電、配電若しくは電気通信のように供する固定資産又は二以上の市町村にわたって所在する固定資産で、その全体を一の固定資産として評価しなければ適正な評価ができないと認められるもののうち総務大臣が指定するもの。",
        category: { major: "1-2課税団体", minor: "5.総務大臣指定資産", sub: "1" }
      },
      {
        id: 22,
        text: "大規模の償却資産については、市町村は、課税定額までを課税標準として固定資産税を課する。また、市町村の課税定額を超える部分については、当該市町村を包括する道府県の普通税として固定資産税を課する。したがって、大規模の償却資産については、その市町村が課税団体になるほか、それを包括する道府県も課税団体となる。なお、大規模の償却資産に対する市町村の課税制限は、東京都の特別区及び地方自治法に規定する指定都市については適用されない。＊大規模の償却資産とは、一の納税義務者が所有する償却資産で、その価額の合計額が市町村の人口段階に応じて法定されている金額を超えるものをいう。",
        category: { major: "1-2課税団体", minor: "6.大規模の償却資産", sub: "1" }
      },
      {
        id: 23,
        text: "固定資産税においては、賦課期日の現況により課税要件が確定することとされている。したがって、当該年度の賦課期日において、固定資産が所在している市町村が課税団体となる。＊固定資産税の賦課期日は、当該年度の初日の属する年の1月1日とする。",
        category: { major: "1-2課税団体", minor: "7.賦課期日との関係", sub: "1" }
      },
      {
        id: 24,
        text: "固定資産税は、固定資産の所有者に課する。すなわち、固定資産税の納税義務者は所有者である。",
        category: { major: "1-3納税義務者", minor: "1.原則", sub: "1.内容" }
      },
      {
        id: 25,
        text: "ｲ_土地又は家屋の所有者は、登記簿又は土地補充課税台帳若しくは家屋補充課税台帳に所有者（区分所有に係る家屋については、区分所有者とする。）として登記又は登録されている者をいう。ﾛ_上記ｲ_の場合において、所有者として登記又は登録がされている個人が賦課期日前に死亡しているとき、若しくは所有者として登記又は登録されている法人が同日前に消滅しているとき、又は所有者として登記されている国、都道府県、市町村等の固定資産税の非課税団体が同日前に所有者でなくなっているときは、賦課期日において当該土地又は家屋を現に所有している者をいう。",
        category: { major: "1-3納税義務者", minor: "1.原則", sub: "2.所有者①土地又は家屋" }
      },
      {
        id: 26,
        text: "償却資産の所有者は、償却資産課税台帳に所有者として登録されている者という。",
        category: { major: "1-3納税義務者", minor: "1.原則", sub: "2.所有者②償却資産" }
      },
      {
        id: 27,
        text: "質権又は百年より長い存続期間の定めのある地上権の目的である土地については、その質権者又は地上権者が納税義務者となる。",
        category: { major: "1-3納税義務者", minor: "2.質権者又は地上権者", sub: "1" }
      },
      {
        id: 28,
        text: "市町村は、固定資産の所有者の所在が震災、風水害、火災その他の事由により不明である場合には、その使用者を所有者とみなして、固定資産課税台帳に登録し、その者に固定資産税を課することができる。②市町村は、相当の努力が払われたと認められるものとして政令で定める方法により探索を行ってもなお固定資産の所有者の存在が不明である場合（上記①の場合を除く。）には、その使用者を所有者とみなして、固定資産課税台帳に登録し、その者に固定資産税を課することができる。③上記①、②の場合において、当該市町村は、当該登録をしようとするときは、あらかじめ、その旨を当該使用者に通知しなければならない。",
        category: { major: "1-3納税義務者", minor: "3.みなす所有者", sub: "1.所有者が不明の固定資産①" }
      },
      {
        id: 29,
        text: "農地法の規定により農林水産大臣が管理する土地又は相続税法の規定により国が収納した農地については、次に掲げる期間に応じ、それぞれに定める者を使用者とみなす。①買収し、又は収納した日から国が当該土地又は農地を他人に売り渡し、その所有権が売渡しの相手方に移転する日までの間→その使用者②その日後当該売渡しの相手方が登記簿に所有者として登記される日までの間→その売渡しの相手方",
        category: { major: "1-3納税義務者", minor: "3.みなす所有者", sub: "2.国が買収し、又は収納した農地等" }
      },
      {
        id: 30,
        text: "農土地区画整理法による土地区画整理事業又は土地改良法による土地改良事業の施行に係る土地については、仮換地等の指定があった場合、又は仮使用地がある場合には、次に掲げる期間に応じ、それぞれに定める者を所有者とみなすことができる。①当該仮換地等又は仮使用地について使用し、又は収益することができるようになった日から換地処分の公告がある日又は換地計画の認可の公告がある日までの間→ｲ_仮換地等にあっては当該仮換地等に対応する従前の土地について登記簿又は土地補充課税台帳に所有者として登記又は登録がされている者ﾛ_仮使用地にあっては土地区画整理法により土地区画整理事業の施行者以外の仮使用地の使用者②換地処分の公告があった日又は換地計画の認可の公告があった日から換地又は保留地を取得した者が登記簿に当該換地又は保留地に係る所有者として登記される日までの間→当該換地又は保留地を取得した者",
        category: { major: "1-3納税義務者", minor: "3.みなす所有者", sub: "3.土地区画整理事業等の施行に係る土地" }
      },
      {
        id: 31,
        text: "公有水面埋立法の規定により竣功許可前に使用する埋立地若しくは干拓地（以下「埋立地等」という。）又は国が埋立て若しくは干拓により造成する竣功の通知前の埋立地等で工作物を設置し、その他土地を使用する場合と同様の状態で使用されているもの（工事に関して使用されているものを除く。）のうち、土地とみなされ固定資産税が課税される埋立地等については、次に掲げる場合に応じ、それぞれに定める者を所有者とみなす。①都道府県等以外の者が公有水面埋立法の規定により使用する埋立地等の場合→当該埋立地等の使用者②都道府県等が公有水面埋立法の規定により使用し、又は国が埋立て若しくは干拓により造成する埋立地等の場合→都道府県等又は国が当該埋立地等を都道府県等又は国以外の者に使用させている場合に限り、当該埋立地等の使用者",
        category: { major: "1-3納税義務者", minor: "3.みなす所有者", sub: "4.公有水面の埋立地等" }
      },
      {
        id: 32,
        text: "信託会社が信託の引受けをした償却資産で、その信託行為の定めるところにしたがい当該信託会社が他の者にこれを譲渡することを条件として当該他の者に賃貸しているものについては、当該償却資産が当該他の者の事業の用に供するものであるときは、当該他の者をもって所有者とみなす。",
        category: { major: "1-3納税義務者", minor: "3.みなす所有者", sub: "5.信託償却資産" }
      },
      {
        id: 33,
        text: "家屋の附帯設備であって、当該家屋の所有者以外の者がその事業の用に供するため取り付けたものであり、かつ、当該家屋に付合したことにより当該家屋の所有者が所有することになったもの（以下「特定付帯設備」という。）については、当該取り付けた者の事業の用に供することができる資産である場合に限り、当該取り付けた者をもって所有者とみなし、当該特定附帯設備のうち家屋に属する部分は家屋以外の資産とみなして、固定資産税を課することができる。　",
        category: { major: "1-3納税義務者", minor: "3.みなす所有者", sub: "6.特定附帯設備" }
      },
      {
        id: 34,
        text: "共有物に対する固定資産税については、その共有者が連帯して納付する義務を追う。",
        category: { major: "1-3納税義務者", minor: "4.その他の特例", sub: "1.共有物" }
      },
      {
        id: 35,
        text: "償却資産に係る売買があった場合において売主が当該償却資産の所有権を留保しているときは、固定資産税の賦課徴収については、当該償却資産は、売主及び買主の共有物とみなし、売主及び買主が連帯して納付する義務を負う。ただし、社会の納税意識に合致するよう原則として買主に対して課税するものとする。",
        category: { major: "1-3納税義務者", minor: "4.その他の特例", sub: "2.所有権留保付売買に係る償却資産" }
      },
      {
        id: 36,
        text: "区分所有家屋に対して課する固定資産税については、区分所有法に規定する区分所有者は、共有物の連帯納税義務の規定にかかわらず、当該区分所有家屋に係る固定資産税を専有部分の床面積の割合により按分した額を納付する義務を負う。",
        category: { major: "1-3納税義務者", minor: "4.その他の特例", sub: "3.区分所有家屋の特例" }
      },
      {
        id: 37,
        text: "区分所有家屋の敷地の用に供されている土地（以下「共用土地」という。）で、一定の要件を満たすものに対して課する固定資産税については、共用土地納税義務者は、共有物の連帯納税義務の規定にかかわらず、当該共用土地に係る固定資産税額を各共用土地納税義務者の当該共用土地に係る持分の割合により按分した額を納付する義務を負う。",
        category: { major: "1-3納税義務者", minor: "4.その他の特例", sub: "4.区分所有家屋の敷地の特例" }
      },
      {
        id: 38,
        text: "固定資産税においては、賦課期日の現況により課税要件が確定することとされている。したがって、当該年度の賦課期日において、固定資産の所有者とされる者が納税義務者となる。＊固定資産税の賦課期日は、当該年度の初日の属する年の１月１日とする。＜参考＞相続による納税義務の承継1_相続があった場合には、その相続人は、被相続人の地方団体の徴収金を納付しなければならない。2_相続人が２人以上あるときは、各相続人は、被相続人の地方団体の徴収金を民法の規定によるその相続分によりあん分して計算した額を納付しなければならない。",
        category: { major: "1-3納税義務者", minor: "4.その他の特例", sub: "5.賦課期日との関係" }
      },
      {
        "id": 89,
        "text": "償却資産については、土地及び家屋と異なり登記制度が存在しないため、課税客体等の把握を目的として申告義務が課されている。",
        "category": { "major": "4-1申告制度", "minor": "1.償却資産の申告", "sub": "1.趣旨" }
      },
      {
        "id": 90,
        "text": "固定資産税の納税義務がある償却資産の所有者（下記②又は③の固定資産の所有者を除く。）は、総務省令で定めるところにより、毎年１月１日現在における当該償却資産について、次の事項を１月３１日までに当該償却資産の所在地の市町村長に申告しなければならない。ｲ_所在。ﾛ_種類。ﾊ_数量。ﾆ_取得時期。ﾎ_取得価額。ﾍ_耐用年数。ﾄ_見積価額。ﾁ_その他償却資産課税台帳の登録及び当該償却資産の価格の決定に必要な事項。",
        "category": { "major": "4-1申告制度", "minor": "1.償却資産の申告", "sub": "2.内容①一般の償却資産" }
      },
      {
        "id": 91,
        "text": "地方税法第３８９条第１項各号に掲げる固定資産の所有者で固定資産税の納税義務がある者は、総務省令で定めるところにより、毎年１月１日現在における当該固定資産について、次の事項を１月３１日までに道府県知事又は総務大臣に申告しなければならない。ｲ_固定資産課税台帳に登録されるべき事項及びこれに記載（記録）をされている事項。ﾛ_その他固定資産の評価に必要な事項。",
        "category": { "major": "4-1申告制度", "minor": "1.償却資産の申告", "sub": "2.内容②総務大臣指定資産" }
      },
      {
        "id": 92,
        "text": "大規模の償却資産に係る申告については、上記①の規定中「市町村長」とあるのは「道府県知事」と読み替えて準用する。",
        "category": { "major": "4-1申告制度", "minor": "1.償却資産の申告", "sub": "2.内容③大規模の償却資産" }
      },
      {
        "id": 93,
        "text": "納税義務者が、納税義務を負う市町村内に住所、居所、事務所等を有しない場合において、徴税の確保を図ることを目的として申告義務が課されている。",
        "category": { "major": "4-1申告制度", "minor": "2.納税管理人の申告", "sub": "1.趣旨" }
      },
      {
        "id": 94,
        "text": "固定資産税の納税義務者は、納税義務を負う市町村内に住所等を有しない場合には、納税に関する一切の事務の処理させるため、当該市町村の条例で定める地域内に住所等を有する者のうちから納税管理人を定めてこれを市町村長に申告し、又は当該地域外に住所等を有する者のうち当該事項の処理につき便宜を有するものを納税管理人として定めることについて市町村長に申請してその承認を受けなければならない。",
        "category": { "major": "4-1申告制度", "minor": "2.納税管理人の申告", "sub": "2.内容" }
      },
      {
        "id": 95,
        "text": "住宅用地に対する課税標準の特例の適用に際し、住宅用地に該当するか否かの認定を目的として申告義務を課することができるとされている。",
        "category": { "major": "4-1申告制度", "minor": "3.住宅用地の申告", "sub": "1.趣旨" }
      },
      {
        "id": 96,
        "text": "①市町村長は、住宅用地の所有者に、当該市町村の条例で定めるところにより、当該年度に係る賦課期日現在における当該住宅用地について、次の事項を申告させることができる。ただし、当該年度の前年度に係る賦課期日における当該住宅用地に所有者が引き続き当該住宅用地を所有し、かつ、その申告すべき事項に異動がない場合は、この限りでない。ｲ_その所在及び面積。ﾛ_その上に存する家屋の床面積及び用途。ﾊ_その上に存する住居の数。ﾆ_その他固定資産税の賦課徴収に関し必要な事項。",
        "category": { "major": "4-1申告制度", "minor": "3.住宅用地の申告", "sub": "2.内容①" }
      },
      {
        "id": 97,
        "text": "②市町村長は、当該年度に係る賦課期日において住宅用地から住宅用地以外の土地への変更があり、かつ当該土地の所有者が当該年度の前年度に係る賦課期日から引き続き、当該土地を所有している場合には当該土地の所有者に、当該市町村の条例に定めるところにより、その旨を申告させることができる。",
        "category": { "major": "4-1申告制度", "minor": "3.住宅用地の申告", "sub": "2.内容②" }
      },
      {
        "id": 98,
        "text": "登記簿及び補充課税台帳上の所有者が死亡した場合において、新たな納税義務者の適正かつ確実な把握を目的として申告義務を課することができることとされている。",
        "category": { "major": "4-1申告制度", "minor": "4.現所有者の申告", "sub": "1.趣旨" }
      },
      {
        "id": 99,
        "text": "市町村長は、その市町村内の土地又は家屋について、登記簿又は土地補充課税台帳若しくは家屋補充課税台帳に所有者として登記又は登録がされている個人が死亡している場合における当該土地又は家屋を所有している者（以下「現所有者」という。）に、当該市町村の条例で定めるところにより、現所有者であることを知った日の翌日から３月を経過した日以後の日までに、次の事項を申告させることができる。①当該現所有者の住所及び氏名又は名称。②その他固定資産税の賦課徴収に関し必要な事項。",
        "category": { "major": "4-1申告制度", "minor": "4.現所有者の申告", "sub": "2.内容" }
      },
      {
        "id": 110,
        "text": "市町村長は、固定資産評価員又は固定資産評価補助員に当該市町村所在の固定資産の状況を毎年少なくとも一回実地に調査させなければならない。",
        "category": { "major": "4-3一般の固定資産の評価等", "minor": "1.評価", "sub": "1.実地調査" }
      },
      {
        "id": 111,
        "text": "固定資産評価員は、実地調査の結果に基づいて当該市町村に所在する土地又は家屋の評価する場合には、次に掲げる土地又は家屋の区分に応じ、それぞれに掲げる年度において、それぞれに掲げる価格により当該土地又は家屋の評価をしなければならない。",
        "category": { "major": "4-3一般の固定資産の評価等", "minor": "1.評価", "sub": "2.土地又は家屋①原則" }
      },
      {
        "id": 112,
        "text": "当該市町村の区域内の自然的及び社会的条件からみて類似の利用価値を有すると認められる地域において地下が下落し、かつ、市町村長が基準年度の価格又は比準価格（以下「修正前の価格」という。）を当該地域に所在する土地に対して課する当該年度分の固定資産税の課税標準とすることが固定資産税の課税上著しく均衡を失すると認める場合における当該土地に対して課する第ニ年度分又は第三年度分の固定資産税については、当該土地の修正前の価格を総務大臣が定める基準（以下「修正基準」という。）により修正した価格又は当該土地の類似土地の当該年度の修正前の価格を修正基準により修正した価格に比準する価格により当該土地の評価をしなければならない。",
        "category": { "major": "4-3一般の固定資産の評価等", "minor": "1.評価", "sub": "2.土地又は家屋②修正基準の適用を受ける土地" }
      },
      {
        "id": 113,
        "text": "固定資産評価員は、上記①、②により土地又は家屋の評価をする場合において、道府県知事が不動産取得税の規定により当該土地又は家屋の所在地の市町村長に通知した価格があるときは、当該土地又は家屋について地目の変換、改築、損壊その他特別の事情があるため当該通知に係る価格により難い場合を除くほか、当該通知に係る価格に基づいて、当該土地又は家屋の評価をしなければならない。",
        "category": { "major": "4-3一般の固定資産の評価等", "minor": "1.評価", "sub": "2.土地又は家屋③通知価格がある場合" }
      },
      {
        "id": 114,
        "text": "固定資産評価員は、実地調査の結果に基づいて当該市町村に所在する償却資産の評価をする場合には当該償却資産に係る賦課期日における価格により、当該償却資産の評価をしなければならない。",
        "category": { "major": "4-3一般の固定資産の評価等", "minor": "1.評価", "sub": "3.償却資産の評価" }
      },
      {
        "id": 115,
        "text": "固定資産評価員は、上記2.及び3.による評価をした場合には、総務省令で定めるところにより、遅滞なく、評価調書を作成し、これを市町村長に提出しなければならない。",
        "category": { "major": "4-3一般の固定資産の評価等", "minor": "1.評価", "sub": "4.評価調書の提出" }
      },
      {
        "id": 116,
        "text": "市町村長は、固定資産評価員から評価調書を受理した場合には、これに基づいて固定資産の価格等を毎年３月３１日までに決定しなければならない。ただし、災害その他特別の事情がある場合には、４月１日以後に決定することができる。この場合、市町村長は固定資産評価基準及び修正基準により、固定資産の価格を決定しなければならない。",
        "category": { "major": "4-3一般の固定資産の評価等", "minor": "2.価格等の決定等", "sub": "1.価格等の決定" }
      },
      {
        "id": 117,
        "text": "市町村長は、上記1.により固定資産の価格等を決定した場合には、遅滞なく、総務省令で定めるところにより、地域ごとの宅地の標準的な価格を記載した書面を一般の閲覧に供しなければならない。",
        "category": { "major": "4-3一般の固定資産の評価等", "minor": "2.価格等の決定等", "sub": "2.宅地の標準的な価格の閲覧" }
      },
      {
        "id": 118,
        "text": "市町村長は、上記2.1.により固定資産の価格等を決定した場合には、直ちに当該固定資産の価格等を固定資産課税台帳に登録しなければならない。",
        "category": { "major": "4-3一般の固定資産の評価等", "minor": "3.価格等の登録", "sub": "1.登録" }
      },
      {
        "id": 119,
        "text": "市町村長は、上記1.により固定資産課税台帳に登録すべき固定資産の価格等のすべてを登録した場合には、直ちに、その旨を公示しなければならない。",
        "category": { "major": "4-3一般の固定資産の評価等", "minor": "3.価格等の登録", "sub": "2.公示" }
      },
      {
        "id": 120,
        "text": "道府県知事（関係市町村がニ以上の道府県に係るときは、総務大臣。）は、次に掲げる固定資産税について固定資産評価基準により、市町村の評価の例により、評価を行った後、総務省令で定めるところにより、当該固定資産が所在するものとされる市町村及びその価格等を決定し、決定した価格等を当該市町村に配分し、毎年３月３１日までに当該市町村の長に通知しなければならない。ただし、災害その他特別の事情がある場合には、４月１日以後に通知することができる。",
        "category": { "major": "4-4総務大臣指定資産の評価等", "minor": "1.評価、価格等の決定及び配分等", "sub": "1.評価、価格等の決定及び配分" }
      },
      {
        "id": 121,
        "text": "道府県知事又は総務大臣は、上記1.により、固定資産の価格等を決定した場合には、遅滞なく、当該価格等を当該固定資産の所有者に通知しなければならない。",
        "category": { "major": "4-4総務大臣指定資産の評価等", "minor": "1.評価、価格等の決定及び配分等", "sub": "2.所有者への通知" }
      },
      {
        "id": 122,
        "text": "道府県知事又は総務大臣は、市町村における一般の固定資産の評価が固定資産評価基準及び修正基準により行われていないと認める場合には、上記1.により当該市町村に配分される当該固定資産の価格等について必要な調整を加えることができる。",
        "category": { "major": "4-4総務大臣指定資産の評価等", "minor": "1.評価、価格等の決定及び配分等", "sub": "3.配分調整" }
      },
      {
        "id": 123,
        "text": "総務大臣は、次に掲げる場合には、地方財政審議会の意見を聴かなければならない。①指定しようとするとき②価格等の決定及び配分をしようとするとき。③価格等の配分の調整の申出を受けたとき。④価格等の配分の調整をしようとするとき。",
        "category": { "major": "4-4総務大臣指定資産の評価等", "minor": "1.評価、価格等の決定及び配分等", "sub": "4.意見聴取" }
      },
      {
        "id": 124,
        "text": "市町村長は、上記1.1.による通知を受けた場合には、遅滞なく、当該市町村に配分された固定資産の価格等を固定資産課税台帳に登録しなければならない。",
        "category": { "major": "4-4総務大臣指定資産の評価等", "minor": "2.価格等の登録", "sub": "1.登録" }
      },
      {
        "id": 125,
        "text": "市町村長は、上記1.1.により道府県知事又は総務大臣がした価格等の配分が当該市町村に著しく不利益であると認める場合には、道府県知事又は総務大臣に対して、事由を具してその配分を申し出ることができる。",
        "category": { "major": "4-4総務大臣指定資産の評価等", "minor": "2.価格等の登録", "sub": "2.配分調整の申出" }
      },
      {
        "id": 135,
        "text": "固定資産税の納税義務者が、自己の所有する固定資産について課税内容を確認することができるようにするとともに、借地人・借家人等に対しても使用又は収益の対象となる固定資産についての課税内容を明らかにするために、固定資産課税台帳等の閲覧制度が設けられている。",
        "category": { "major": "5-2固定資産課税台帳の閲覧と証明書の交付", "minor": "1.固定資産課税台帳の閲覧と証明書の交付", "sub": "1.趣旨" }
      },
      {
        "id": 136,
        "text": "ｲ_備付け。市町村は、固定資産の状況及び固定資産税の課税標準である固定資産の価格を明らかにするために、固定資産課税台帳を備えなければならない。ﾛ_閲覧。市町村長は、納税義務者等の求めに応じ、固定資産課税台帳のうちこれらの者に係る固定資産に関する事項が記載されている部分又はその写しをこれらの者の閲覧に供しなければならない。㋑閲覧を求めることができる者。対象資産。㋺固定資産税の納税義務者。当該納税義務に係る固定資産。㋩土地について賃借権その他の使用又は収益を目的とする権利（対価が支払われるものに限る。）を有する者。当該権利の目的である土地。㋥家屋について賃借権その他の使用又は収益を目的とする権利（対価が支払われるものに限る。）を有する者。当該権利の目的である家屋及びその敷地である土地。㋭固定資産の処分をする権利を有する一定の者。当該権利の目的である固定資産。",
        "category": { "major": "5-2固定資産課税台帳の閲覧と証明書の交付", "minor": "1.固定資産課税台帳の閲覧と証明書の交付", "sub": "2.内容①固定資産課税台帳の閲覧" }
      },
      {
        "id": 137,
        "text": "ｲ_備付け。市町村は、その市町村内の土地及び家屋について、固定資産課税台帳に基づいて、総務省令で定めるところにより、土地名寄帳及び家屋名寄帳を備えなければならない。ﾛ_閲覧。市町村長は、納税義務者から固定資産課税台帳の閲覧の求めがあったときは、土地名寄帳又は家屋名寄帳に固定資産課税台帳の登録事項と同一の事項が記載されている場合に限り、当該納税義務者の閲覧に供するものとされる固定資産課税台帳又はその写しに代えて土地名寄帳若しくは家屋名寄帳又はそれらの写しを当該納税義務者の閲覧に供することができる。",
        "category": { "major": "5-2固定資産課税台帳の閲覧と証明書の交付", "minor": "1.固定資産課税台帳の閲覧と証明書の交付", "sub": "2.内容②名寄帳による閲覧" }
      },
      {
        "id": 138,
        "text": "固定資産課税台帳の閲覧対象者が固定資産課税台帳の記載事項の証明を求めることができるようにするとともに、一定の訴訟当事者等が固定資産の価格について証明を求めることができるようにするために、証明書の交付制度が設けられている。",
        "category": { "major": "5-2固定資産課税台帳の閲覧と証明書の交付", "minor": "2.証明書の交付", "sub": "1.趣旨" }
      },
      {
        "id": 139,
        "text": "地方団体の長は、地方団体の徴収金と競合する債権に係る担保権の設定その他の目的で、地方団体の徴収金の納付又は納入すべき金額その他の地方団体の徴収金に関する事項（地方税法の規定により地方団体の徴収金に関して地方団体が備えなければならない帳簿に登録された事項を含む。）のうち次に定めるものについての証明書の交付を請求する者があるときは、その者に関するものに限り、これを交付しなければならない。ｲ_固定資産課税台帳に登録された事項。ﾛ_その他一定の事項。",
        "category": { "major": "5-2固定資産課税台帳の閲覧と証明書の交付", "minor": "2.証明書の交付", "sub": "2.内容①納税証明書の交付" }
      },
      {
        "id": 140,
        "text": "市町村長は、納税証明書の交付の規定によるもののほか、一定の者の請求があったときは、これらの者に係る一定の固定資産に関して固定資産課税台帳に記載されている事項のうち一定のものについての証明書を交付しなければならない。㋑証明書の交付を求めることができる者。対象固定資産。証明事項。㋺土地について賃借権その他の使用又は収益を目的とする権利（対価が支払われるものに限る。）を有する者。当該権利の目的である土地。すべての事項。㋩家屋について賃借権その他の使用又は収益を目的とする権利（対価が支払われるものに限る。）を有する者。当該権利の目的である家屋及びその敷地である土地。すべての登録事項。㋥固定資産の処分をする権利を有する一定の者。当該権利の目的である固定資産。すべての登録事項。㋭民事訴訟費用等に関する法律の規定による申立てをしようとする者。当該申立ての目的である固定資産。課税標準額の計算に関する事項を除く登録事項。",
        "category": { "major": "5-2固定資産課税台帳の閲覧と証明書の交付", "minor": "2.証明書の交付", "sub": "2.内容②証明書の交付" }
      },
      {
        "id": 141,
        "text": "固定資産税の納税者が、その納付すべき当該年度の固定資産税に係る土地又は家屋について土地課税台帳等又は家屋課税台帳等に登録された価格と当該土地又は家屋が所在する市町村内の他の土地又は家屋の価格とを比較することができるようにするために、価格等縦覧帳簿の縦覧制度が設けられている。",
        "category": { "major": "5-3価格等縦覧帳簿の閲覧", "minor": "1.趣旨", "sub": "1" }
      },
      {
        "id": 142,
        "text": "市町村長は、総務省令で定めるところにより、土地価格等縦覧帳簿及び家屋価格等縦覧帳簿を、毎年３月３１日までに作成しなければならない。ただし、災害その他特別の事情がある場合には、４月１日以後に作成することができる。①土地価格等縦覧帳簿。土地価格等縦覧帳簿とは、土地課税台帳若しくは土地補充課税台帳に登録された土地（地方税法の規定により固定資産税を課することができるものに限る。）について、次の事項を記載した帳簿をいう。ｲ_所在、地番、地目、地積。ﾛ_当該年度の固定資産税に係る価格。②家屋価格等縦覧帳簿。家屋価格等縦覧帳簿とは、家屋課税台帳若しくは家屋補充課税台帳に登録された家屋（地方税法の規定により固定資産税を課することができるものに限る。）について、次の事項を記載した帳簿をいう。ｲ_所在、家屋番号、種類、構造、床面積。ﾛ_当該年度の固定資産税に係る価格。",
        "category": { "major": "5-3価格等縦覧帳簿の閲覧", "minor": "2.原則的な縦覧", "sub": "1.作成" }
      },
      {
        "id": 143,
        "text": "①市町村長は、毎年４月１日から４月２０日又は当該年度の最初の納期限の日のいずれか遅い日以後の日までの間、その指定する場所において、土地価格等縦覧帳簿若しくは家屋価格等縦覧帳簿又はそれらの写しを当該市町村内に所在する土地又は家屋に対して課する固定資産税の納税者の縦覧に供しなければならない。②災害その他特別の事業がある場合には、４月２日以後の日から、当該日から２０日を経過した日又は当該年度の最初の納期限の日のいずれか遅い日以後の日までの間を縦覧期間とすることができる。",
        "category": { "major": "5-3価格等縦覧帳簿の閲覧", "minor": "2.原則的な縦覧", "sub": "2.縦覧" }
      },
      {
        "id": 144,
        "text": "市町村長は、上記2.の縦覧の場所及び機関を、あらかじめ、公示しなければならない。",
        "category": { "major": "5-3価格等縦覧帳簿の閲覧", "minor": "2.原則的な縦覧", "sub": "3.公示" }
      },
      {
        "id": 145,
        "text": "市町村長は、道府県知事の勧告により土地又は価格等を修正して登録した場合には、直ちに、土地価格等縦覧帳簿又は家屋価格等縦覧帳簿を作成しなければならない。",
        "category": { "major": "5-3価格等縦覧帳簿の閲覧", "minor": "3.修正勧告により価格等を修正した場合の縦覧", "sub": "1.作成" }
      },
      {
        "id": 146,
        "text": "市町村長は、道府県知事の勧告により土地又は価格等を修正して登録した場合には、直ちに、土地価格等縦覧帳簿又は家屋価格等縦覧帳簿を作成しなければならない。",
        "category": { "major": "5-3価格等縦覧帳簿の閲覧", "minor": "3.修正勧告により価格等を修正した場合の縦覧", "sub": "1.作成" }
      },
      {
        "id": 147,
        "text": "市町村長は、上記1.に基づいて土地価格等縦覧帳簿又は家屋価格等縦覧帳簿を作成した場合には、その作成の日から２０日以上の期間、その指定する場所において、土地価格等縦覧帳簿若しくは家屋価格等縦覧帳簿又はそれらの写しを当該市町村内に所在する土地又は家屋に対して課する固定資産税の納税者の縦覧に供しなければならない。",
        "category": { "major": "5-3価格等縦覧帳簿の閲覧", "minor": "3.修正勧告により価格等を修正した場合の縦覧", "sub": "2.縦覧" }
      },
      {
        "id": 148,
        "text": "市町村長は、上記2.の縦覧の場所及び機関を、あらかじめ、公示しなければならない。",
        "category": { "major": "5-3価格等縦覧帳簿の閲覧", "minor": "3.修正勧告により価格等を修正した場合の縦覧", "sub": "3.公示" }
      },
      {
        "id": 159,
        "text": "固定資産税の納税者は、その納付すべき当該年度の固定資産税に係る固定資産税について、固定資産課税台帳に登録された価格に不服がある場合には、文書をもって、固定資産評価審査委員会に審査の申出をすることができる。",
        "category": { "major": "6-2審査の申出", "minor": "1.審査の申出", "sub": "1.内容" }
      },
      {
        "id": 160,
        "text": "固定資産の価格等のすべてを登録した旨の公示の日から納税通知書の交付を受けた日後３月を経過する日までの間",
        "category": { "major": "6-2審査の申出", "minor": "1.審査の申出", "sub": "2.申出期間①原則" }
      },
      {
        "id": 161,
        "text": "ｲ_道府県知事の勧告により価格等を修正して登録した場合の公示が行われた場合には、公示の日から同日後３月を経過する日（賦課額の更生に基づく納税通知書の交付を受けた者にあっては、当該納税通知書の交付を受けた日後３月を経過する日）までの間。ﾛ_固定資産の価格等のすべてを登録した旨の公示の日以後において、価格等の登録がなされていないこと又は登録された価格等に重大な錯誤があったため、市町村長が価格等を決定し又は修正したときは、納税者が当該決定又は修正に係る通知を受けた日から３月以内。",
        "category": { "major": "6-2審査の申出", "minor": "1.審査の申出", "sub": "2.申出期間②例外" }
      },
      {
        "id": 162,
        "text": "1_地方税法第３８９条第１項各号に掲げる固定資産又は大規模の償却資産について、道府県知事又は総務大臣が決定又は修正し、市町村長に通知した価格。2_据置年度の土地及び家屋の価格。ただし、地目の変換、家屋の改築又は損壊その他これらに類する特別の事情があるため比準価格によるべきものであることを申し立てる場合、修正基準を適用して修正価格によるべきものであることを申し立てる場合を除く。",
        "category": { "major": "6-2審査の申出", "minor": "2.審査の申出ができない事項", "sub": "1" }
      },
      {
        "id": 163,
        "text": "1_固定資産評価審査委員会は、審査の申出を受けた場合には、直ちにその必要と認める調査その他事実審査を行い、その申出を受けた日から３０日以内に審査の決定をしなければならない。2_不服の審理は書面による。ただし、審査を申し出た者の求めがあった場合には、固定資産評価審査委員会は、当該審査を申し出た者に口頭で意見を述べる機会を与えなければならない。3_固定資産評価審査委員会は、審査のために必要がある場合には、職権に基づいて、又は関係人の請求により審査を申し出た者に口頭で意見を述べる機会を与えなければならない。4_固定資産評価審査委員会は、審査のために必要がある場合には、固定資産評価員に対し、評価調書に関する事項についての説明を求めることができる。5_審査を申し出た者は、市町村長に対し、当該申出に係る主張に理由があることを明らかにするために必要な事項について、相当の期間を定めて、書面で回答するよう、書面で照会することができる。ただし、その照会が具体的又は個別的でない照会など一定のときには、この限りでない。6_固定資産評価審査委員会は、審査のために必要がある場合には、上記2_にかかわらず、審査の申し出た者及び市町村長の出席を求めて、公開による口頭審理を行うことができる。なお、この場合には、固定資産評価審査委員会は、固定資産評価員その他の関係者の出席及び証言を求めることができる。また、口頭審理の指揮は、審査長が行う。7_固定資産評価審査委員会は、当該市町村の条例の定めるところにより、審査の議事及び決定に関する記録を作成しなければならない。8_固定資産評価審査委員会は、上記7_の記録を保存し、その定めるところにより、これを関係者の閲覧に供しなければならない。9_固定資産評価審査委員会は、審査の決定をした場合には、その決定のあった日から１０日以内に、これを審査を申し出た者及び市町村長に文書をもって通知しなければならない。また、上記1_の期限までに審査の決定がないときは、その審査の申出を却下する旨の決定があったものとみなすことができる。",
        "category": { "major": "6-2審査の申出", "minor": "3.審査の決定の手続", "sub": "1" }
      },
      {
        "id": 164,
        "text": "1_固定資産税の納税者は、固定資産評価審査委員会の決定に不服があるときは、その取消しの訴えを提起することができる。2_固定資産評価審査委員会に審査の申出ができる事項について不服がある固定資産税の納税者は、固定資産評価審査委員会への審査の申出、及びその決定の取消しの訴えによることによりのみ争うことができる。",
        "category": { "major": "6-2審査の申出", "minor": "4.争訟の方式", "sub": "1" }
      },
      {
        "id": 165,
        "text": "1固定資産評価審査委員会は、上記4.1.による市町村を被告とする訴訟について、当該市町村を代表する。",
        "category": { "major": "6-2審査の申出", "minor": "5.抗告訴訟の取扱い", "sub": "1" }
      },
      {
        "id": 166,
        "text": "市町村長は、固定資産評価審査委員会の審査の決定の通知を受けた場合において固定資産課税台帳に登録された価格等を修正する必要があるときは、その通知を受けた日から１０日以内にその価格等を修正して登録し、その旨を当該納税者に通知しなければならない。また、この場合には、固定資産税の賦課後であっても。その修正した価格等に基づいて、既に決定した賦課額を更正しなければならない。",
        "category": { "major": "6-2審査の申出", "minor": "6.市町村長の修正", "sub": "1" }
      },
      {
        "id": 198,
        "text": "当該年度分の価格の６分の１の額を課税標準となるべき額とした場合における税額とする。",
        "category": { "major": "8-2宅地等に対する課税", "minor": "1.本来の税額", "sub": "1.小規模住宅用地" }
      },
      {
        "id": 199,
        "text": "当該年度分の価格の３分の１の額を課税標準となるべき額とした場合における税額とする。",
        "category": { "major": "8-2宅地等に対する課税", "minor": "1.本来の税額", "sub": "2.一般住宅用地" }
      },
      {
        "id": 200,
        "text": "当該年度分の価格を課税標準となるべき額とした場合における税額とする。",
        "category": { "major": "8-2宅地等に対する課税", "minor": "1.本来の税額", "sub": "3.1.及び2.以外" }
      },
      {
        "id": 201,
        "text": "負担調整措置は、固定資産税の税負担水準が地域や土地によりばらつきのある現状を踏まえ、課税の公平の観点から、負担水準の高い土地に対しては税負担を上昇させず、前年度の税額を据置き、あるいは引下げ、負担水準の低い土地に対しては税負担を上昇させ、税負担の均衡を図ることを目的とする制度である。",
        "category": { "major": "8-2宅地等に対する課税", "minor": "2.負担調整措置", "sub": "1.趣旨" }
      },
      {
        "id": 202,
        "text": "宅地等に係る固定資産税額は、当該年度分の固定資産税額が、前年度課税標準額又は比準課税標準額に、当該年度分の価格（住宅用地の特例の適用を受けるものにあっては、価格に特例率を乗じて得た額。以下同じ。）に１００分の５を乗じて得た額を加算した額を当該年度分の課税標準となるべき額とした場合にいける固定資産税額（以下「宅地等調整固定資産税額」という。）を超える場合には、当該宅地等調整固定資産税額とする。",
        "category": { "major": "8-2宅地等に対する課税", "minor": "2.負担調整措置", "sub": "2.内容①宅地等調整固定資産税額" }
      },
      {
        "id": 203,
        "text": "上記①の適用を受ける商業地等に係る宅地等調整固定資産税額は、当該宅地等調整固定資産税額が、当該年度分の価格の１０分の６を乗じて得た額を当該年度分の課税標準となるべき額とした場合における固定資産税額を超える場合には、上記①にかかわらず、当該固定資産税額とする。",
        "category": { "major": "8-2宅地等に対する課税", "minor": "2.負担調整措置", "sub": "2.内容②上限" }
      },
      {
        "id": 204,
        "text": "上記①の適用を受ける宅地等に係る宅地等調整固定資産税額は、当該宅地等調整固定資産税額が、当該年度分の価格に１０分の２を乗じて得た額を当該年度分の課税標準となるべき額とした場合における固定資産税額に満たない場合には、上記①にかかわらず、当該固定資産税額とする。",
        "category": { "major": "8-2宅地等に対する課税", "minor": "2.負担調整措置", "sub": "2.内容③下限" }
      },
      {
        "id": 205,
        "text": "商業地等のうち当該年度の負担水準が０．６以上０．７以下のものに係る固定資産税額は、上記①にかかわらず、前年度課税標準額又は比準課税標準額を当該年度分の課税標準となるべき額とした場合における固定資産税額（「商業地等据置固定資産税額」という。）とする。",
        "category": { "major": "8-2宅地等に対する課税", "minor": "2.負担調整措置", "sub": "2.内容④商業地等据置固定資産税額" }
      },
      {
        "id": 206,
        "text": "商業地等のうち当該年度の負担水準が０．７を超えるものに係る固定資産税額は、上記①にかかわらず、当該年度分の価格に１０分の７を乗じて得た額を当該年度分の課税標準となるべき額とした場合における固定資産税額（「商業地等調整固定資産税額」という。）とする。",
        "category": { "major": "8-2宅地等に対する課税", "minor": "2.負担調整措置", "sub": "2.内容⑤商業地等調整固定資産税額" }
      },
      {
        "id": 222,
        "text": "1",
        "category": { "major": "1", "minor": "1", "sub": "1" }
      },

    ];

    let currentSentenceIndex = 0;
    let isBlanked = false;

    document.getElementById("random-btn").addEventListener("click", () => {
      currentSentenceIndex = Math.floor(Math.random() * sentences.length);
      isBlanked = false;
      showQuestion();
      updateSelectors();
    });

    document.getElementById("speak-btn").addEventListener("click", () => {
      const utterance = new SpeechSynthesisUtterance(sentences[currentSentenceIndex].text);
      utterance.lang = 'ja-JP'; // 日本語の発音を設定
      speechSynthesis.speak(utterance);
    });

    // 大区分、中区分、小区分の初期化
    function initializeSelectors() {
      const majorSelect = document.getElementById("major-select");
      const uniqueMajors = [...new Set(sentences.map(s => s.category.major))];
      majorSelect.innerHTML = uniqueMajors.map(major => `<option value="${major}">${major}</option>`).join("");
      updateMinorSelect();
    }

    function updateMinorSelect() {
      const major = document.getElementById("major-select").value;
      const minorSelect = document.getElementById("minor-select");

      const filteredSentences = sentences.filter(s => s.category.major === major);
      const uniqueMinors = [...new Set(filteredSentences.map(s => s.category.minor))];
      minorSelect.innerHTML = uniqueMinors.map(minor => `<option value="${minor}">${minor}</option>`).join("");
      updateSubSelect();
    }

    function updateSubSelect() {
      const major = document.getElementById("major-select").value;
      const minor = document.getElementById("minor-select").value;
      const subSelect = document.getElementById("sub-select");

      const filteredSentences = sentences.filter(s => s.category.major === major && s.category.minor === minor);
      subSelect.innerHTML = filteredSentences.map(s => `<option value="${s.category.sub}">${s.category.sub}</option>`).join("");
    }


    function showQuestion() {
      const questionText = document.getElementById("question-text");
      const sentence = sentences[currentSentenceIndex];
      questionText.innerHTML = isBlanked ? createBlankedSentence(sentence.text) : sentence.text;
      populateInputArea();
    }

    function createBlankedSentence(text) {
      let blankedIndex = 1;
      return text.replace(/([^。！？、（）]*)([。！？、（）])/g, (match, p1, p2, offset) => {
        if (offset >= 0 && offset < text.length && p1.trim().length > 0 && !/\)$/.test(p1)) {
          return `<span class="blanked" data-original="${p1}">[空欄${blankedIndex++}]</span>${p2}`;
        }
        return match;
      });
    }


    function populateInputArea() {
      const inputArea = document.getElementById("input-area");
      inputArea.innerHTML = '';
      const blanks = document.querySelectorAll(".blanked");
      blanks.forEach((blank, index) => {
        const textLength = blank.getAttribute("data-original").length; // 該当文字数を取得
        const inputContainer = document.createElement("div");
        inputContainer.classList.add("input-container");
        inputContainer.innerHTML = `
        <label for="input-${index}">空欄${index + 1}: (${textLength}文字)</label>
        <input id="input-${index}" type="text" onkeydown="handleKeyDown(event, ${index})" />

        <button onclick="checkAnswer(${index})">チェック</button>
        <span id="feedback-${index}"></span>
    `;
        inputArea.appendChild(inputContainer);
      });
    }

    function handleKeyDown(event, index) {
      const inputFields = document.querySelectorAll('input[type="text"]');
      if (event.key === "Enter") {
        checkAnswer(index);
      } else if (event.key === "ArrowUp" && index > 0) {
        inputFields[index - 1].focus();
      } else if (event.key === "ArrowDown" && index < inputFields.length - 1) {
        inputFields[index + 1].focus();
      }
    }



    function checkAnswer(index) {
      const inputField = document.getElementById(`input-${index}`);
      const inputText = inputField.value.trim();
      const blank = document.querySelectorAll(".blanked")[index];
      const originalText = blank.getAttribute("data-original").trim();
      const feedback = document.getElementById(`feedback-${index}`);

      if (inputText === originalText) {
        feedback.textContent = "正解です！";
        feedback.classList.add("correct");
        feedback.classList.remove("incorrect");
      } else {
        feedback.textContent = `不正解です。間違い箇所: ${highlightDifferences(originalText, inputText)}`;
        feedback.classList.add("incorrect");
        feedback.classList.remove("correct");
      }
    }

    function highlightDifferences(original, input) {
      let diffIndex = 0;
      while (diffIndex < original.length && diffIndex < input.length && original[diffIndex] === input[diffIndex]) {
        diffIndex++;
      }
      const correctPart = original.slice(0, diffIndex);
      const incorrectPart = original.slice(diffIndex);
      return `${correctPart}${incorrectPart}`;
    }


    document.getElementById("major-select").addEventListener("change", updateMinorSelect);
    document.getElementById("minor-select").addEventListener("change", updateSubSelect);

    document.getElementById("jump-btn").addEventListener("click", () => {
      const major = document.getElementById("major-select").value;
      const minor = document.getElementById("minor-select").value;
      const sub = document.getElementById("sub-select").value;

      const question = sentences.find(
        s => s.category.major === major && s.category.minor === minor && s.category.sub === sub
      );

      if (question) {
        currentSentenceIndex = sentences.indexOf(question);
        isBlanked = false;
        showQuestion();
      }
    });

    document.getElementById("next-btn").addEventListener("click", () => { // 次へボタンのイベントリスナー
      if (currentSentenceIndex < sentences.length - 1) {
        currentSentenceIndex++;
        isBlanked = false;
        showQuestion();
        updateSelectors();
      } else {
        alert("これ以上の問題はありません。");
      }
    });

    document.getElementById("prev-btn").addEventListener("click", () => { // 前へボタンのイベントリスナー
      if (currentSentenceIndex > 0) {
        currentSentenceIndex--;
        isBlanked = false;
        showQuestion();
        updateSelectors();
      } else {
        alert("これ以上戻れません。");
      }
    });

    function updateSelectors() { // 区分セレクタの更新
      const sentence = sentences[currentSentenceIndex];
      document.getElementById("major-select").value = sentence.category.major;
      updateMinorSelect();
      document.getElementById("minor-select").value = sentence.category.minor;
      updateSubSelect();
      document.getElementById("sub-select").value = sentence.category.sub;
    }



    document.getElementById("toggle-blank-btn").addEventListener("click", () => {
      isBlanked = !isBlanked;
      showQuestion();
    });

    document.getElementById("question-text").addEventListener("click", (e) => {
      if (e.target.classList.contains("blanked")) {
        const isBlanked = e.target.getAttribute("data-blanked") === "true";
        const blankNumber = e.target.getAttribute("data-blank-number");
        const originalText = e.target.getAttribute("data-original");

        if (isBlanked) {
          e.target.innerHTML = originalText;
          e.target.setAttribute("data-blanked", "false");
        } else {
          const textLength = originalText.length;
          e.target.innerHTML = `[${textLength}文字]`;
          e.target.setAttribute("data-blanked", "true");
        }
      }
    });

    // 初期化
    initializeSelectors();
    showQuestion();
  </script>
</body>

</html>
